<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="br.com.tech.challenge.api.ProdutoControllerTest" tests="6" skipped="0" failures="0" errors="0" timestamp="2023-10-30T01:51:13" hostname="L&#x90;IA" time="0.125">
  <properties/>
  <testcase name="Deve deletar um produto com sucesso" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.025"/>
  <testcase name="Deve retornar exceção ao tentar alterar um produto inexistente" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.019"/>
  <testcase name="Deve listar os produtos com sucesso" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.021"/>
  <testcase name="Deve salvar um produto com sucesso" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.018"/>
  <testcase name="Deve listar os produtos vazios com sucesso" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.019"/>
  <testcase name="Deve alterar um produto com sucesso" classname="br.com.tech.challenge.api.ProdutoControllerTest" time="0.014"/>
  <system-out><![CDATA[2023-10-29T22:51:13.482-03:00  INFO 19224 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [br.com.tech.challenge.api.ProdutoControllerTest]: ProdutoControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-10-29T22:51:13.486-03:00  INFO 19224 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration br.com.tech.challenge.TechChallengeApplication for test class br.com.tech.challenge.api.ProdutoControllerTest
Hibernate: select count(*) from produto p1_0 where p1_0.id=?
Hibernate: select p1_0.id,p1_0.categoria_id,c1_0.id,c1_0.descricao,p1_0.descricao,p1_0.valor_unitario from produto p1_0 join categoria c1_0 on c1_0.id=p1_0.categoria_id where p1_0.id=?
Hibernate: delete from produto where id=?

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /produtos/105
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#delete(Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 204
    Error message = null
          Headers = []
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.categoria_id,c1_0.id,c1_0.descricao,p1_0.descricao,p1_0.valor_unitario from produto p1_0 join categoria c1_0 on c1_0.id=p1_0.categoria_id where p1_0.id=?

MockHttpServletRequest:
      HTTP Method = PATCH
      Request URI = /produtos/566
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"103"]
             Body = {"descricao":"Produto Alterado Teste","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.50}
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#update(Long, ProdutoUpdateDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = br.com.tech.challenge.api.exception.ObjectNotFoundException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"messages":null,"statusCode":404,"exceptionMessage":"Nenhum registro encontrado para o id informado"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.categoria_id,p1_0.descricao,p1_0.valor_unitario from produto p1_0 order by p1_0.descricao offset ? rows fetch first ? rows only
Hibernate: select c1_0.id,c1_0.descricao from categoria c1_0 where c1_0.id=?
Hibernate: select c1_0.id,c1_0.descricao from categoria c1_0 where c1_0.id=?

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /produtos
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"111"]
             Body = [{"id":1,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valorUnitario":5.0,"pedidos":null}]
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#list(Long, Long, int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[{"id":100,"descricao":"Big Mac","categoria":{"id":1,"descricao":"Lanche"},"valor_unitario":32.50},{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.00}],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":0,"pageSize":10,"pageNumber":0,"unpaged":false,"paged":true},"totalElements":2,"totalPages":1,"last":true,"size":10,"number":0,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":true,"numberOfElements":2,"empty":false}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.categoria_id,c1_0.id,c1_0.descricao,p1_0.descricao,p1_0.valor_unitario from produto p1_0 join categoria c1_0 on c1_0.id=p1_0.categoria_id where p1_0.id=?
Hibernate: select c1_0.id,c1_0.descricao from categoria c1_0 where c1_0.id=?
Hibernate: select next value for produto_seq
Hibernate: insert into produto (categoria_id,descricao,valor_unitario,id) values (?,?,?,?)

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /produtos
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"95"]
             Body = {"id":2,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":5.0}
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#save(ProdutoDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"id":1,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":5.0}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.categoria_id,p1_0.descricao,p1_0.valor_unitario from produto p1_0 where p1_0.id=? or p1_0.categoria_id=? order by p1_0.descricao offset ? rows fetch first ? rows only

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /produtos
       Parameters = {id=[200], categoria=[200]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#list(Long, Long, int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":0,"pageSize":10,"pageNumber":0,"unpaged":false,"paged":true},"totalElements":0,"totalPages":0,"last":true,"size":10,"number":0,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":true,"numberOfElements":0,"empty":true}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.categoria_id,c1_0.id,c1_0.descricao,p1_0.descricao,p1_0.valor_unitario from produto p1_0 join categoria c1_0 on c1_0.id=p1_0.categoria_id where p1_0.id=?
Hibernate: update produto set categoria_id=?,descricao=?,valor_unitario=? where id=?

MockHttpServletRequest:
      HTTP Method = PATCH
      Request URI = /produtos/100
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"103"]
             Body = {"descricao":"Produto Alterado Teste","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.50}
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.ProdutoController
           Method = br.com.tech.challenge.api.ProdutoController#update(Long, ProdutoUpdateDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"id":100,"descricao":"Produto Alterado Teste","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.50}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2023-10-29T22:51:13.666-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:13.666-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:13.668-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:13.672-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:13.677-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.004s)
2023-10-29T22:51:13.678-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.000s)
2023-10-29T22:51:13.679-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:13.681-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:13.681-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:13.682-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:13.691-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbValidate     : Successfully validated 17 migrations (execution time 00:00.008s)
2023-10-29T22:51:13.692-03:00  INFO 19224 --- [    Test worker] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-10-29T22:51:13.695-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2023-10-29T22:51:13.697-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1 - CREATE TABLE CATEGORIA"
2023-10-29T22:51:13.701-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "2 - INSERT INTO CATEGORIA"
2023-10-29T22:51:13.704-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "3 - CREATE TABLE CLIENTE"
2023-10-29T22:51:13.707-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "4 - CREATE TABLE PEDIDO"
2023-10-29T22:51:13.711-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "5 - CREATE TABLE PRODUTO"
2023-10-29T22:51:13.714-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "6 - CREATE TABLE PEDIDO PRODUTOS"
2023-10-29T22:51:13.718-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "7 - CREATE TABLE PAGAMENTO"
2023-10-29T22:51:13.721-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "8 - CREATE VIEW FILAPEDIDOS"
2023-10-29T22:51:13.724-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "9 - ALTER TABLE PEDIDO"
2023-10-29T22:51:13.727-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "10 - ALTER TABLE PEDIDO 2"
2023-10-29T22:51:13.729-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "11 - ALTER TABLE PEDIDO 3"
2023-10-29T22:51:13.736-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "12 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:13.739-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "13 - CREATE CLIENTE"
2023-10-29T22:51:13.742-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "14 - CREATE PRODUTOS"
2023-10-29T22:51:13.745-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "15 - CREATE PEDIDO"
2023-10-29T22:51:13.748-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "16 - ALTER TABLE PAGAMENTO"
2023-10-29T22:51:13.755-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "17 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:13.757-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Successfully applied 17 migrations to schema "PUBLIC", now at version v17 (execution time 00:00.061s)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
