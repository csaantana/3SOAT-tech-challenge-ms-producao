<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="br.com.tech.challenge.api.PagamentoControllerTest" tests="1" skipped="0" failures="0" errors="0" timestamp="2023-10-30T01:51:12" hostname="L&#x90;IA" time="0.114">
  <properties/>
  <testcase name="Deve fazer o checkout com sucesso" classname="br.com.tech.challenge.api.PagamentoControllerTest" time="0.114"/>
  <system-out><![CDATA[2023-10-29T22:51:12.512-03:00  INFO 19224 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [br.com.tech.challenge.api.PagamentoControllerTest]: PagamentoControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-10-29T22:51:12.515-03:00  INFO 19224 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration br.com.tech.challenge.TechChallengeApplication for test class br.com.tech.challenge.api.PagamentoControllerTest
Hibernate: select p1_0.id,p1_0.cliente_id,c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome,p1_0.data_hora,p1_0.senha_retirada,p1_0.status_pedido,p1_0.valor_total from pedido p1_0 join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.id=?
Hibernate: select p1_0.id,p1_0.data_hora_pagamento,p1_0.pedido_id,p1_0.qr_data,p1_0.status_pagamento,p1_0.valor_total from pagamento p1_0 where p1_0.pedido_id=?
Hibernate: update pagamento set data_hora_pagamento=?,pedido_id=?,qr_data=?,status_pagamento=?,valor_total=? where id=?
Hibernate: select p1_0.pedido_id,p1_1.id,p1_1.categoria_id,c1_0.id,c1_0.descricao,p1_1.descricao,p1_1.valor_unitario from pedido_produtos p1_0 join produto p1_1 on p1_1.id=p1_0.produtos_id left join categoria c1_0 on c1_0.id=p1_1.categoria_id where p1_0.pedido_id=?

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /pagamentos/pedido/100/checkout
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PagamentoController
           Method = br.com.tech.challenge.api.PagamentoController#checkout(Long)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"id":10,"pedido":{"id":100,"senha_retirada":12348,"cliente":{"id":100,"nome":"Anthony Samuel Joaquim Teixeira","cpf":"667.743.160-69","email":"anthony.samuel.teixeira@said.adv.br"},"produtos":[{"id":100,"descricao":"Big Mac","categoria":{"id":1,"descricao":"Lanche"},"valor_unitario":32.50},{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.00}],"valor_total":42.50,"status_pedido":"EM_PREPARACAO"},"data_hora_pagamento":"2023-10-29T22:51:12.5674746","valor_total":5.00,"qr_data":null,"status_pagamento":"PAGO"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2023-10-29T22:51:12.635-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:12.635-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:12.637-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:12.639-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:12.644-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.004s)
2023-10-29T22:51:12.645-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.000s)
2023-10-29T22:51:12.646-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:12.647-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:12.648-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:12.649-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:12.659-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbValidate     : Successfully validated 17 migrations (execution time 00:00.008s)
2023-10-29T22:51:12.660-03:00  INFO 19224 --- [    Test worker] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-10-29T22:51:12.664-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2023-10-29T22:51:12.666-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1 - CREATE TABLE CATEGORIA"
2023-10-29T22:51:12.669-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "2 - INSERT INTO CATEGORIA"
2023-10-29T22:51:12.673-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "3 - CREATE TABLE CLIENTE"
2023-10-29T22:51:12.677-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "4 - CREATE TABLE PEDIDO"
2023-10-29T22:51:12.681-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "5 - CREATE TABLE PRODUTO"
2023-10-29T22:51:12.685-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "6 - CREATE TABLE PEDIDO PRODUTOS"
2023-10-29T22:51:12.691-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "7 - CREATE TABLE PAGAMENTO"
2023-10-29T22:51:12.695-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "8 - CREATE VIEW FILAPEDIDOS"
2023-10-29T22:51:12.698-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "9 - ALTER TABLE PEDIDO"
2023-10-29T22:51:12.702-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "10 - ALTER TABLE PEDIDO 2"
2023-10-29T22:51:12.705-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "11 - ALTER TABLE PEDIDO 3"
2023-10-29T22:51:12.716-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "12 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:12.720-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "13 - CREATE CLIENTE"
2023-10-29T22:51:12.725-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "14 - CREATE PRODUTOS"
2023-10-29T22:51:12.729-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "15 - CREATE PEDIDO"
2023-10-29T22:51:12.733-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "16 - ALTER TABLE PAGAMENTO"
2023-10-29T22:51:12.742-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "17 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:12.745-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Successfully applied 17 migrations to schema "PUBLIC", now at version v17 (execution time 00:00.081s)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
