<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="br.com.tech.challenge.api.PedidoControllerTest" tests="7" skipped="0" failures="0" errors="0" timestamp="2023-10-30T01:51:12" hostname="L&#x90;IA" time="0.534">
  <properties/>
  <testcase name="Deve atualizar o status do pedido com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.028"/>
  <testcase name="Deve salvar um pedido com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.379"/>
  <testcase name="Deve lançar uma exceção ao salvar um pedido com produto inexistente" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.013"/>
  <testcase name="Deve listar os Pedidos com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.038"/>
  <testcase name="Deve listar a fila de pedidos vazia com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.024"/>
  <testcase name="Deve listar os pedidos vazios com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.013"/>
  <testcase name="Deve listar a fila de pedidos com sucesso" classname="br.com.tech.challenge.api.PedidoControllerTest" time="0.023"/>
  <system-out><![CDATA[2023-10-29T22:51:12.749-03:00  INFO 19224 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [br.com.tech.challenge.api.PedidoControllerTest]: PedidoControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-10-29T22:51:12.752-03:00  INFO 19224 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration br.com.tech.challenge.TechChallengeApplication for test class br.com.tech.challenge.api.PedidoControllerTest
Hibernate: select p1_0.id,p1_0.cliente_id,c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome,p1_0.data_hora,p1_0.senha_retirada,p1_0.status_pedido,p1_0.valor_total from pedido p1_0 join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.id=?
Hibernate: select p1_0.pedido_id,p1_1.id,p1_1.categoria_id,c1_0.id,c1_0.descricao,p1_1.descricao,p1_1.valor_unitario from pedido_produtos p1_0 join produto p1_1 on p1_1.id=p1_0.produtos_id left join categoria c1_0 on c1_0.id=p1_1.categoria_id where p1_0.pedido_id=?
Hibernate: update pedido set cliente_id=?,data_hora=?,senha_retirada=?,status_pedido=?,valor_total=? where id=?
Hibernate: select count(*) from cliente c1_0 where c1_0.id=?
Hibernate: select p1_0.id,p1_0.categoria_id,c1_0.id,c1_0.descricao,p1_0.descricao,p1_0.valor_unitario from produto p1_0 join categoria c1_0 on c1_0.id=p1_0.categoria_id where p1_0.id=?
Hibernate: select p1_0.id,p1_0.cliente_id,c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome,p1_0.data_hora,p1_0.senha_retirada,p1_0.status_pedido,p1_0.valor_total from pedido p1_0 join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.id=?
Hibernate: select c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome from cliente c1_0 where c1_0.id=?
Hibernate: select next value for pedido_seq
Hibernate: select next value for pagamento_seq
Hibernate: insert into pedido (cliente_id,data_hora,senha_retirada,status_pedido,valor_total,id) values (?,?,?,?,?,?)
Hibernate: insert into pagamento (data_hora_pagamento,pedido_id,qr_data,status_pagamento,valor_total,id) values (?,?,?,?,?,?)
Hibernate: insert into pedido_produtos (pedido_id,produtos_id) values (?,?)

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /pedidos
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"291"]
             Body = {"id":45,"senha_retirada":123456,"cliente":{"id":105,"nome":"Ana Maria Souza","cpf":"299.106.340-825","email":"ana.maria2@gmail.com"},"produtos":[{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.0}],"valor_total":5.0,"status_pedido":"RECEBIDO"}
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#save(PedidoDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"id":1,"senha_retirada":527238,"cliente":{"id":105,"nome":"Ana Maria Souza","cpf":"299.106.340-825","email":"ana.maria2@gmail.com"},"produtos":[{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.00}],"valor_total":10.0,"status_pedido":"RECEBIDO"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /pedidos
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json", Content-Length:"108"]
             Body = {"id":null,"senha_retirada":123456,"cliente":null,"produtos":[],"valor_total":10,"status_pedido":"RECEBIDO"}
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#save(PedidoDTO)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = br.com.tech.challenge.api.exception.ObjectNotFoundException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"messages":null,"statusCode":404,"exceptionMessage":"Cliente não informado."}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.cliente_id,p1_0.data_hora,p1_0.senha_retirada,p1_0.status_pedido,p1_0.valor_total from pedido p1_0 order by p1_0.id offset ? rows fetch first ? rows only
Hibernate: select c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome from cliente c1_0 where c1_0.id=?
Hibernate: select c1_0.id,c1_0.cpf,c1_0.email,c1_0.nome from cliente c1_0 where c1_0.id=?
Hibernate: select p1_0.pedido_id,p1_1.id,p1_1.categoria_id,c1_0.id,c1_0.descricao,p1_1.descricao,p1_1.valor_unitario from pedido_produtos p1_0 join produto p1_1 on p1_1.id=p1_0.produtos_id left join categoria c1_0 on c1_0.id=p1_1.categoria_id where p1_0.pedido_id=?
Hibernate: select p1_0.pedido_id,p1_1.id,p1_1.categoria_id,c1_0.id,c1_0.descricao,p1_1.descricao,p1_1.valor_unitario from pedido_produtos p1_0 join produto p1_1 on p1_1.id=p1_0.produtos_id left join categoria c1_0 on c1_0.id=p1_1.categoria_id where p1_0.pedido_id=?

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /pedidos
       Parameters = {pagina=[0], tamanho=[5]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#listarPedidos(int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[{"id":1,"senha_retirada":527238,"cliente":{"id":105,"nome":"Ana Maria Souza","cpf":"299.106.340-825","email":"ana.maria2@gmail.com"},"produtos":[{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.00}],"valor_total":10.00,"status_pedido":"RECEBIDO"},{"id":100,"senha_retirada":12348,"cliente":{"id":100,"nome":"Anthony Samuel Joaquim Teixeira","cpf":"667.743.160-69","email":"anthony.samuel.teixeira@said.adv.br"},"produtos":[{"id":100,"descricao":"Big Mac","categoria":{"id":1,"descricao":"Lanche"},"valor_unitario":32.50},{"id":101,"descricao":"Coca Cola","categoria":{"id":2,"descricao":"Bebida"},"valor_unitario":10.00}],"valor_total":42.50,"status_pedido":"PRONTO"}],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":0,"pageSize":5,"pageNumber":0,"unpaged":false,"paged":true},"totalElements":2,"totalPages":1,"last":true,"size":5,"number":0,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":true,"numberOfElements":2,"empty":false}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select f1_0.senha,f1_0.data_hora,f1_0.id_cliente,f1_0.nome_cliente,f1_0.status_pedido from ( SELECT * FROM View_FilaPedidos ORDER BY data_hora DESC ) f1_0 order by f1_0.data_hora desc offset ? rows fetch first ? rows only
Hibernate: select count(f1_0.senha) from ( SELECT * FROM View_FilaPedidos ORDER BY data_hora DESC ) f1_0

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /pedidos/fila
       Parameters = {pagina=[10], tamanho=[5]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#listFilaPedidos(int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":50,"pageSize":5,"pageNumber":10,"unpaged":false,"paged":true},"totalElements":2,"totalPages":1,"last":true,"size":5,"number":10,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":false,"numberOfElements":0,"empty":true}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select p1_0.id,p1_0.cliente_id,p1_0.data_hora,p1_0.senha_retirada,p1_0.status_pedido,p1_0.valor_total from pedido p1_0 order by p1_0.id offset ? rows fetch first ? rows only
Hibernate: select count(p1_0.id) from pedido p1_0

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /pedidos
       Parameters = {pagina=[100], tamanho=[100]}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#listarPedidos(int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":10000,"pageSize":100,"pageNumber":100,"unpaged":false,"paged":true},"totalElements":2,"totalPages":1,"last":true,"size":100,"number":100,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":false,"numberOfElements":0,"empty":true}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
Hibernate: select f1_0.senha,f1_0.data_hora,f1_0.id_cliente,f1_0.nome_cliente,f1_0.status_pedido from ( SELECT * FROM View_FilaPedidos ORDER BY data_hora DESC ) f1_0 order by f1_0.data_hora desc offset ? rows fetch first ? rows only

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /pedidos/fila
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Accept:"application/json"]
             Body = null
    Session Attrs = {}

Handler:
             Type = br.com.tech.challenge.api.PedidoController
           Method = br.com.tech.challenge.api.PedidoController#listFilaPedidos(int, int)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Type:"application/json"]
     Content type = application/json
             Body = {"content":[{"senha_retirada":527238,"nome_cliente":"Ana Maria Souza","status_pedido":"RECEBIDO"},{"senha_retirada":12348,"nome_cliente":"Anthony Samuel Joaquim Teixeira","status_pedido":"PRONTO"}],"pageable":{"sort":{"empty":false,"sorted":true,"unsorted":false},"offset":0,"pageSize":10,"pageNumber":0,"unpaged":false,"paged":true},"totalElements":2,"totalPages":1,"last":true,"size":10,"number":0,"sort":{"empty":false,"sorted":true,"unsorted":false},"first":true,"numberOfElements":2,"empty":false}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2023-10-29T22:51:13.366-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:13.366-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:13.369-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:13.372-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:13.377-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.004s)
2023-10-29T22:51:13.378-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully cleaned schema "PUBLIC" (execution time 00:00.000s)
2023-10-29T22:51:13.379-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbClean        : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-10-29T22:51:13.381-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : 1 SQL migrations were detected but not run because they did not follow the filename convention.
2023-10-29T22:51:13.381-03:00  INFO 19224 --- [    Test worker] o.f.c.i.resource.ResourceNameValidator   : If this is in error, enable debug logging or 'validateMigrationNaming' to fail fast and see a list of the invalid file names.
2023-10-29T22:51:13.383-03:00  WARN 19224 --- [    Test worker] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.1.214.
2023-10-29T22:51:13.392-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbValidate     : Successfully validated 17 migrations (execution time 00:00.008s)
2023-10-29T22:51:13.393-03:00  INFO 19224 --- [    Test worker] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2023-10-29T22:51:13.397-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2023-10-29T22:51:13.399-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1 - CREATE TABLE CATEGORIA"
2023-10-29T22:51:13.405-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "2 - INSERT INTO CATEGORIA"
2023-10-29T22:51:13.409-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "3 - CREATE TABLE CLIENTE"
2023-10-29T22:51:13.412-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "4 - CREATE TABLE PEDIDO"
2023-10-29T22:51:13.418-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "5 - CREATE TABLE PRODUTO"
2023-10-29T22:51:13.424-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "6 - CREATE TABLE PEDIDO PRODUTOS"
2023-10-29T22:51:13.429-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "7 - CREATE TABLE PAGAMENTO"
2023-10-29T22:51:13.434-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "8 - CREATE VIEW FILAPEDIDOS"
2023-10-29T22:51:13.437-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "9 - ALTER TABLE PEDIDO"
2023-10-29T22:51:13.441-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "10 - ALTER TABLE PEDIDO 2"
2023-10-29T22:51:13.443-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "11 - ALTER TABLE PEDIDO 3"
2023-10-29T22:51:13.450-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "12 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:13.454-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "13 - CREATE CLIENTE"
2023-10-29T22:51:13.458-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "14 - CREATE PRODUTOS"
2023-10-29T22:51:13.462-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "15 - CREATE PEDIDO"
2023-10-29T22:51:13.466-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "16 - ALTER TABLE PAGAMENTO"
2023-10-29T22:51:13.473-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "17 - ALTER VIEW FILAPEDIDOS"
2023-10-29T22:51:13.475-03:00  INFO 19224 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Successfully applied 17 migrations to schema "PUBLIC", now at version v17 (execution time 00:00.079s)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
